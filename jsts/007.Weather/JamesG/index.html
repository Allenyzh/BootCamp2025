<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
			crossorigin="anonymous"
		/>
		<title>weather</title>

		<style>
			body {
				background-color: rgba(79, 173, 240, 0.4);
			}
		</style>
	</head>
	<body>
		<div class="d-flex flex-column text-center">
			<p id="location">location</p>
			<h1 id="temperture">10度</h1>
			<h3 id="range">最高13度,最低7度</h3>
			<p id="feeling">体感温度: 1度</p>
			<p id="weathertype">多云</p>
		</div>
		<div class="text-center d-flex flex-row">
			<div>
				<div>现在</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+1h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+2h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+3h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+4h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+5h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+6h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+7h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+8h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+9h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+10h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+11h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
			<div>
				<div>+12h</div>
				<div>icon</div>
				<div>11度</div>
			</div>
		</div>
	</body>
	<script>
		async function fetchWeather() {
			try {
				const response = await fetch(
					'https://api.openweathermap.org/data/2.5/weather?lat=43.852&lon=-79.484&lang=zh&appid=a93c146c4d6357ebf52d9d6b51416517'
				) // 替换成你自己的API
				const data = await response.json()

				// 温度单位是开尔文，转换成摄氏度
				const tempC = (data.main.temp - 273.15).toFixed(1)
				const feelsC = (data.main.feels_like - 273.15).toFixed(1)
				const maxC = (data.main.temp_max - 273.15).toFixed(1)
				const minC = (data.main.temp_min - 273.15).toFixed(1)
				const weatype = data.weather[0].description

				document.getElementById('location').textContent =
					data.name + ', ' + data.sys.country
				document.getElementById('temperture').textContent = tempC + '度'
				document.getElementById('range').textContent =
					'最高 ' + maxC + '度, 最低 ' + minC + '度'
				document.getElementById('feeling').textContent =
					'体感温度: ' + feelsC + '度'
				document.getElementById('weathertype').textContent = weatype
			} catch (err) {
				console.error('天气数据获取失败:', err)
			}
		}

		// 初始加载一次
		fetchWeather()

		// 每5分钟自动刷新
		setInterval(fetchWeather, 300000) // 300000ms = 5分钟
	</script>
	<!-- <script src="./js/script.js"></script> -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
		crossorigin="anonymous"
	></script>
</html>
